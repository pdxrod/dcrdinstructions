# Instructions for setting up a Decred development node

You can obtain from Github the following components, build and run them:

    atomicswap		
    dcrandroid		
    dcrdocs			
    dcrwebapi		
    politeia
    base58			
    dcrd			
    dcrseeder		
    decrediton		
    politeiagui
    bitcore			
    dcrdata			
    dcrstakepool		
    gominer			
    contractor-mgmt		
    dcrdesign		
    dcrtime			
    hardforkdemo		
    testnetfaucet
    dcps			
    dcrwallet		
    insight
    dcraddrgen		
    dcrdocker		
    dcrweb			

These can all be found at [github.com/decred](https://github.com/decred).

The only essential components are dcrd and dcrwallet.

E.g. `git clone https://github.com/decred/dcrd`

If you don't have the Git version control system, you need to download it from [https://git-scm.com/](https://git-scm.com/) and install it on your system.

Most of the information here can also be found in the README.md files in each of the folders listed above (except in dcps, the file is called README.mediawiki).

All the instructions below assume a Unix-like environment. If you are using Windows, in order to follow these instructions, you need to obtain Cygwin from [http://cygwin.com/](http://cygwin.com/). Cygwin is a Unix-like shell, like the Windows Command Prompt, but with a more extensive set of commands.


## atomicswap		

## dcrandroid		

## dcrdocs		

You need to get 'mkdocs'

This is installed using the Python program 'pip', which is installed when you install Python
pip install mkdocs
It runs under Python version 2

`cd dcrdocs`

`mkdocs serve`

Point your browser at http://localhost:8000

What you see are the files under dcrdocs/docs which end in ".md" (Markdown). See https://github.com/adam-p/markdown-here/wiki/Markdown-Cheatsheet.

## dcrwebapi		

## politeia

## base58			

## dcrd			

This is the Decred daemon - the program which runs in the background, connects to other Decred daemons around the
world, reads new transactions, and attempts to incorporate them into a new block in the Decred blockchain.

Decred consists of the files ending in '.go' in this folder and its subfolders.

The Decred daemon's entry point is `func main` in `dcrd.go`.

In development, you will want to use the daemon in 'testnet' mode, where there is no risk of losing any real money.

`dcrd --testnet -u rpcuser -P rpcpass`

'rpcuser' and 'rpcpass' can be replaced with a more secure username and password - these you will use to communicate
with the daemon, for example, through dcrwallet.

## dcrseeder		

## decrediton		

## politeiagui

## bitcore			

## dcrdata			

Decred block explorer - see `https://explorer.dcrdata.org`

You need to get Node and NPM from `https://nodejs.org`

You should also carefully read the README.md file in dcrdata, especially the section
about Postgresql. You need Postgresql, and to locate the config file (e.g.
  `/usr/local/var/postgres/postgresql.conf` - see below).

You need to log in to Postgresql using the `psql` tool, then

SHOW config_file; -- to show where the config file is

CREATE ROLE dcrdata;

CREATE DATABASE dcrdata OWNER dcrdata;

Then `\q` to exit psql, then

`mkdir ~/.dcrdata`

`cp sample-dcrdata.conf ~/.dcrdata/dcrdata.conf`

OR

`cp sample-dcrdata.conf ~/Library/Application\ Support/Dcrdata/dcrdata.conf` on Mac.

It's very important that you edit the file `~/.dcrdata/dcrdata.conf` to the correct settings. For example,
it assumes which mode the Decred daemon is running in - you probably want 'testnet' (see dcrd section above).

Create a data folder - e.g.

Linux: `~/.dcrdata/data`

Mac: `~/Library/Application Support/Dcrdata/data`

These may be soft links pointing to folders on an external 1+Tb disk.

You also need to edit your dcrd.conf file which was created when you installed and ran the Decred daemon,
so that settings

`txindex=1` and

`addrindex=1`

are set, by deleting the semicolon which comments them out.

`GO111MODULE=on go build`

`npm install`

`npm run build`

`./dcrdata --pg --testnet --dcrduser=rpcuser --dcrdpass=rpcpass`

(The last two flags depend on your RPC username and password for the Decred daemon. See dcrd section above).

(Note - from the dcrdata/README.md - For the v3 dcrdata module, the executable generated by go build may be named "v3" instead of "dcrdata". The situation is analogous for v4. This is a known issue in Go 1.11 that will be resolved in Go 1.12.)

So you may have to enter

`cp v3 dcrdata` then

`./dcrdata --pg --testnet --dcrduser=rpcuser --dcrdpass=rpcpass` to start dcrdata

and navigate to http://localhost:7777

## dcrstakepool		

## gominer			

## contractor-mgmt		

## dcrdesign		

## dcrtime

## hardforkdemo		

## testnetfaucet

## dcps			

## dcrwallet		

The Decred 'wallet' is run with the following command

`dcrwallet --testnet -u rpcuser -P rpcpass`

(or whatever username and password you started dcrd with - see above)

Once the wallet is running, you can find out how many Decred tokens are in it by running

`dcrctl --wallet --testnet getbalance --rpcuser=rpcuser --rpcpass=rpcpass`

You can send tokens to an address with

`dcrctl --wallet --testnet --rpcuser=rpcuser --rpcpass=rpcpass sendtoaddress cuV4XWjH6UBH8HDR9Zq 10`

The last two arguments are an address, and a number of tokens.

## insight

## dcraddrgen		

## dcrdocker		

## dcrweb

This is the code for the Decred website, `https://www.decred.org`

This is dependent on Docker

You need to install Docker, which you can get from `https://www.docker.com`, and start the `docker daemon`

You need a program called `yarn`, which you can get from `https://yarnpkg.com`

cd into the dcrweb folder and enter

`yarn dev`

Wait a few minutes, and you should be able to access the site at `http://localhost:8080`
